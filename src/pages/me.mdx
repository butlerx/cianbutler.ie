import { graphql } from 'gatsby';
import { me } from '../components/me';

<Me
  title={props.data.site.siteMetadata.title}
  author={props.data.site.siteMetadata.author}
  description={props.data.site.siteMetadata.description}
  hero={props.data.placeholderImage.childImageSharp.fluid}
  languages={props.data.site.siteMetadata.languages}
  menu={props.data.site.siteMetadata.menu}
  pinnedItems={props.data.githubData.data.repositoryOwner.pinnedItems.nodes}
  social={props.data.site.siteMetadata.social}
  yaml={props.data.allYaml.nodes}
>

**"**I'm an open source developer. I'm familiar with distributed systems, and
using micro services to build web platforms and event processing pipelines.**"**

</Me>

export const pageQuery = graphql`
  query ExperienceQuery {
    site {
      siteMetadata {
        author
        description
        title
        languages
        menu
        social {
          twitter {
            icon
            user
          }
          linkedIn {
            icon
            user
          }
          email {
            icon
            address
          }
          github {
            icon
            user
          }
        }
      }
    }
    placeholderImage: file(relativePath: { eq: "me.png" }) {
      childImageSharp {
        fluid(maxWidth: 100) {
          ...GatsbyImageSharpFluid
        }
      }
    }
    allYaml {
      nodes {
        title
        source {
          position
          website
          company
          startDate(formatString: "YYYY-MM-DD")
          endDate(formatString: "YYYY-MM-DD")
          languages
          description
        }
      }
    }
    githubData {
      data {
        repositoryOwner {
          pinnedItems {
            nodes {
              name
              owner {
                login
              }
            }
          }
        }
      }
    }
  }
`;
